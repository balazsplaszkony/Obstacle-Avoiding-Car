/*
 * optic.h
 *
 *  Created on: 2023. márc. 8.
 *      Author: plasz
 */
#ifndef OPTIC_H_
#define OPTIC_H_

#include <stdbool.h>
#include "peripherals.h"
#include "fsl_debug_console.h"

#define ADC_RESULT_MASK 0xFFF
#define TRESHOLD  //ki kell még méregetni

typedef enum Status_Optic
{
	WAITFOR,
	WaitForConversion,
} OpticStatus;

typedef struct OpticMeasurement
{
	uint32_t front_right_val;
	uint32_t front_left_val;
	uint32_t back_right_val;
	uint32_t back_left_val;
//	bool is_valid;
//	OpticStatus status;
}OpticMeasurement;

extern volatile OpticMeasurement optic_measurement;
extern volatile uint32_t potmeter;

void InitOpticMeasurement(OpticMeasurement* optic_measurement);
void OpticMeasure();
void StartADC();
#endif /* OPTIC_H_ */
